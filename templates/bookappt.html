<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Appointment Form</title>
    <link rel="stylesheet" href="../static/bookappt.css" />
</head>
<body>
    <div class="booking-form-box" method = "POST">
        <form id="appointmentForm" action="/book" method="POST">
            <h1>BOOK APPOINTMENT</h1>
            
            <div>
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                <div id="nameError" class="error-message">Name is required.</div>
            </div>
            
            <div>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <div id="emailError" class="error-message">Valid email is required.</div>
            </div>

            <div>
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required pattern="[0-9]{10}">
                <div id="phoneError" class="error-message">Valid 10-digit phone number is required.</div>
            </div>
            
            <div>
                <label for="date">Select Date:</label>
                <input type="date" id="date" name="date" class="form-control" required>
                <div id="dateError" class="error-message">Date is required.</div>
            </div>
            
            <div>
                <label for="time">Time:</label>
                <input type="time" id="time" name="time" class="form-control" required>
                <div id="timeError" class="error-message">Time is required.</div>
            </div>
            
            <div class="radio-group">
                <li>
                    <label>Reason for Appointment:</label>
                    <label>
                        <input type="radio" id="lifeInsurance" name="reason" value="Life Insurance" required>
                        Life Insurance
                    </label>
                    <label>
                        <input type="radio" id="collegeFund" name="reason" value="College Fund">
                        College Fund
                    </label>
                    <label>
                        <input type="radio" id="retirement" name="reason" value="401K">
                        401K
                    </label>
                </li>
                <div id="reasonError" class="error-message">Please select a reason.</div>
            </div>
            
            <button class="form__submit" type="submit">Submit</button>
        </form>
    </div>

    <script>
        document.getElementById('appointmentForm').addEventListener('submit', function(event) {
            //event.preventDefault();
            let isValid = true;
            
            // Validate Name
            if (!document.getElementById('name').value.trim()) {
                document.getElementById('nameError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('nameError').style.display = 'none';
            }
            
            // Validate Email
            if (!document.getElementById('email').value.trim() || !document.getElementById('email').checkValidity()) {
                document.getElementById('emailError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('emailError').style.display = 'none';
            }
            
            // Validate Phone
            if (!document.getElementById('phone').value.trim() || !document.getElementById('phone').checkValidity()) {
                document.getElementById('phoneError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('phoneError').style.display = 'none';
            }

            // Validate Date
            if (!document.getElementById('date').value) {
                document.getElementById('dateError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('dateError').style.display = 'none';
            }
            
            // Validate Time
            if (!document.getElementById('time').value) {
                document.getElementById('timeError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('timeError').style.display = 'none';
            }
            
            // Validate Reason
            if (!document.querySelector('input[name="reason"]:checked')) {
                document.getElementById('reasonError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('reasonError').style.display = 'none';
            }
            
            // Submit if valid
            if (isValid) {
                this.submit();
                alert('Appointment booked successfully!');
            }
        });
    </script>
</body>
</html>